:root {
  /* Colors */
  --color-gold: #1179119f;
  --color-gold-light: #F4E5B0;
  --color-cream: #F9F9F5;
  --color-navy: #2c3e50;
  --color-text-main: #334155;
  --color-text-light: #64748B;
  --color-white: #FFFFFF;

  /* Typography */
  --font-heading: 'Playfair Display', serif;
  --font-body: 'Lato', sans-serif;
  --font-script: 'Alex Brush', cursive;

  /* Spacing */
  --spacing-xs: 0.5rem;
  --spacing-sm: 1rem;
  --spacing-md: 2rem;
  --spacing-lg: 4rem;
  --spacing-xl: 8rem;

  /* Transitions */
  --transition-fast: 0.3s ease;
  --transition-slow: 0.8s ease-in-out;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  height: 100vh;
  overflow: hidden;
  /* visual fix for double scrollbar */
}

body {
  margin: 0;
  height: 100vh;
  font-family: var(--font-body);
  background-color: var(--color-cream);
  color: var(--color-text-main);
  line-height: 1.6;
  overflow: hidden;
  /* visual fix for double scrollbar */
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-family: var(--font-heading);
  color: var(--color-navy);
  font-weight: 700;
  line-height: 1.2;
}

a {
  text-decoration: none;
  color: inherit;
  transition: color var(--transition-fast);
}

ul {
  list-style: none;
}

button {
  font-family: var(--font-body);
  cursor: pointer;
  border: none;
  outline: none;
}

/* Utilities */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--spacing-sm);
}

.text-gold {
  color: var(--color-gold);
}

.text-navy {
  color: var(--color-navy);
}

.text-center {
  text-align: center;
}

.section-padding {
  padding: var(--spacing-xl) 0;
}

/* Animations */
.fade-in-section {
  opacity: 0;
  /* Removed transform (translateY/scale) to fix scroll lag. 
     Animating large layers with box-shadows is too expensive on scroll. */
  transition: opacity 1.2s ease-out;
}

.fade-in-section.is-visible {
  opacity: 1;
}

/* Logic-controlled reveal (ignored by IntersectionObserver) */
.chained-reveal {
  opacity: 0;
  transition: opacity 0.5s ease-out;
}

.chained-reveal.is-visible {
  opacity: 1;
}

/* Arrow Animation Keyframes - GPU Accelerated */
@keyframes drawMask {
  from {
    transform: scaleY(0.38);
  }

  to {
    transform: scaleY(1);
  }
}

.draw-active {
  animation: drawMask 3.5s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
}

.delay-100 {
  transition-delay: 0.1s;
}

.delay-200 {
  transition-delay: 0.2s;
}

.delay-300 {
  transition-delay: 0.3s;
}

.delay-400 {
  transition-delay: 0.4s;
}

.delay-500 {
  transition-delay: 0.5s;
}

:root {
  --section-gap: clamp(20rem, 8vh, 8rem);
}

/* Component Wrappers - Fix for Scroll Snap */
.landing-page {
  display: contents;
}

.venue-section {
  display: flex;
  flex-direction: column;
  gap: var(--section-gap);
}

.app-main-content {
  display: flex;
  flex-direction: column;
  gap: var(--section-gap);
  position: relative;
  min-height: 100%;
}

/* App Container - No scroll snap on desktop */
.app-container {
  position: relative;
  scroll-snap-type: none;
  background: linear-gradient(135deg, #F9F9F5 0%, #FFF8F0 25%, #F9F9F5 50%, #FFF8F0 75%, #F9F9F5 100%);
  background-size: 400% 400%;
  background-attachment: local;
}

.venue-section .content-section {
  min-height: auto;
  padding-left: 30px;
  padding-right: 30px;
}

/* Content Sections */
.content-section,
.landing-page .hero {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-lg) var(--spacing-sm);
}


/* Content Container - Fluid Layout */
/* Content Container - Fluid Layout */
.content-container {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;
  /* Force horizontal layout always */
  align-items: center;
  justify-content: center;
  gap: clamp(0.5rem, 5vw, var(--spacing-xl));
  max-width: 1200px;
  width: 100%;
}

.content-container.reverse {
  flex-direction: row-reverse;
  /* flex-wrap: nowrap; (Inherited/Default) */
}

/* Text Content */
/* Text Content */
.text-content {
  flex: 1;
  min-width: 0;
  /* Allow shrinking to fit side-by-side */
  max-width: 500px;
  /* Optional: keep max width for readability */
  text-align: left;
}

.text-content>* {
  text-align: inherit;
}

/* Ensure consistent text alignment when wrapped? 
   Actually, let's keep it left/right aligned for "desktop feel" even on small screens if possible, 
   but centering usually looks better when stacked. 
   Let's leave alignment as is for now (inherited) and let flex positioning handle it.
*/
.content-container.reverse .text-content {
  text-align: right;
}

.text-content h2 {
  font-family: var(--font-script);
  font-size: clamp(2.2rem, 5vw, 4rem);
  margin-bottom: 0.5rem;
  color: var(--color-navy);
}

.text-content .subtitle {
  color: var(--color-gold);
  font-family: var(--font-heading);
  font-style: italic;
  font-size: clamp(1rem, 2vw, 1.5rem);
  margin-bottom: 1rem;
}

.text-content p {
  color: var(--color-text-main);
  font-size: clamp(0.9rem, 1.5vw, 1.15rem);
}

/* Photo Frames */
/* Photo Frames */
.photo-wrapper {
  flex: 1;
  display: flex;
  justify-content: center;
  min-width: 0;
  /* Allow shrinking to fit side-by-side */
}

.photo-frame {
  max-width: 100%;
  width: 450px;
  height: auto;
  border: 15px solid white;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  transition: transform 0.3s ease;
}

.rotate-left .photo-frame {
  transform: rotate(3deg);
}

.rotate-right .photo-frame {
  transform: rotate(2deg);
}

/* Scatter Photo Layout */
.scatter-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-content: center;
  width: 100%;
  height: auto;
  min-height: 50vh;
  position: relative;
  padding: 2rem;
  gap: 20px;
}

.scatter-item-wrapper {
  position: relative;
  transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), z-index 0s 0.5s;
  /* Center content for when images are narrower than the slot (portraits) */
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Dynamic Sizes based on count - Fluid Percentages */

/* 1 Image */
.scatter-container.scatter-single .scatter-item-wrapper {
  width: 95%;
  max-width: 600px;
  margin: 0;
}

.scatter-container.scatter-single .scatter-item-wrapper:nth-child(1) {
  transform: rotate(-2deg);
}

/* 2-3 Images */
.scatter-container.scatter-few .scatter-item-wrapper {
  width: 45%;
  /* Slightly less than 50% to ensure fit with gap */
  min-width: 140px;
  /* Allow 2 columns on small screens (~300px+) */
  flex-grow: 1;
}

/* 4-8 Images */
.scatter-container.scatter-medium .scatter-item-wrapper {
  width: 30%;
  min-width: 110px;
  flex-grow: 1;
}

/* 9+ Images */
.scatter-container.scatter-many .scatter-item-wrapper {
  width: 22%;
  min-width: 90px;
  flex-grow: 1;
}

.scatter-photo {
  /* Balance Area: Constrain height so portraits don't dominate */
  width: auto;
  max-width: 100%;
  max-height: 350px;
  /* fluid limit for multi-images */

  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
  border: 8px solid white;
  transition: box-shadow 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
  will-change: box-shadow;
}

/* Allow single image to be larger */
.scatter-container.scatter-single .scatter-photo {
  max-height: 70vh;
  padding-top: 0rem;
  padding-bottom: 0rem;
}

/* Single image fills more space on small screens */
@media (max-width: 600px) {
  .scatter-container {
    padding-left: 0.8rem;
    padding-right: 0.2rem;
    min-height: auto;
  }

  .scatter-container.scatter-single .scatter-item-wrapper {
    width: 100%;
    max-width: none;
  }

  .scatter-photo {
    border-width: 4px;
  }
}

.scatter-item-wrapper:hover .scatter-photo {
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.22);
}

/* Pseudo-random rotations for "pile" effect */
.scatter-item-wrapper:nth-child(odd) {
  transform: rotate(-4deg) translateY(5px);
  z-index: 1;
  margin: 5px;
  /* Add some margin for the pile effect to breathe */
}

.scatter-item-wrapper:nth-child(even) {
  transform: rotate(3deg) translateY(-5px);
  z-index: 2;
  margin: 5px;
}

.scatter-item-wrapper:nth-child(3n) {
  transform: rotate(6deg) translateX(5px);
  z-index: 3;
}

.scatter-item-wrapper:nth-child(4n) {
  transform: rotate(-5deg) translateX(-5px);
  z-index: 1;
}

.scatter-item-wrapper:nth-child(5n) {
  transform: rotate(2deg) translateY(8px);
  z-index: 2;
}

/* Hover Interaction: Bring to front */
.scatter-item-wrapper:hover {
  z-index: 100;
  transform: scale(1.05) rotate(0deg);
  transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.2, 1), z-index 0s;
}


/* -------------------------------------------------------------------------- */
/*                               Image Viewer                                 */
/* -------------------------------------------------------------------------- */

.image-viewer-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 2000;
  background-color: rgba(255, 255, 255, 0.4);
  /* Slight white tint */
  backdrop-filter: blur(15px);
  /* Strong blur for "behind glass" feel */
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn 0.3s ease-out;
}

.image-viewer-overlay.closing {
  animation: fadeOut 0.3s ease-in forwards;
}

.viewer-content {
  position: relative;
  /* Width/Height controlled by JS inline styles */
  max-width: 90vw;
  max-height: 90vh;
  display: flex;
  align-items: center;
  justify-content: center;
  display: flex;
  align-items: center;
  justify-content: center;
  /* Removed transition: width/height to stop size animation */
  /* will-change removed as no longer ensuring smooth resize */

  /* Fix corner radius during transition */
  border-radius: 4px;
  overflow: hidden;
  clip-path: inset(0);
  /* Strict masking to prevent bleed */
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
  /* Move shadow to container */
  animation: fadeIn 0.4s ease-out;
}

/* Track System */
.viewer-viewport {
  width: 100%;
  height: 100%;
  overflow: hidden;
  position: relative;
  /* Ensure image stays within bounds */
}

.viewer-track {
  display: flex;
  height: 100%;
  width: 100%;
  /* Transform is handled inline for sliding */
  /* Transition handled inline for mount fix */
  will-change: transform;
}

.viewer-counter {
  position: absolute;
  bottom: 20px;
  /* Moved inside frame */
  color: white;
  /* White text */
  font-weight: 600;
  background: rgba(0, 0, 0, 0.3);
  /* Subtle pill background for readability */
  padding: 4px 12px;
  border-radius: 20px;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  pointer-events: none;
}

.viewer-slide {
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  flex-shrink: 0;
  /* Critical: prevents slides from squeezing provided width */
  overflow: hidden;
  /* Ensure oversized image doesn't spill */
  /* Width is now set inline by JS */
}

.viewer-image {
  width: 100%;
  /* Strict fit to animated parent */
  height: 100%;
  /* Strict fit */
  margin: 0;
  object-fit: cover;
  /* Cover ensures no 1px gaps; container is already AR-locked */
  backface-visibility: hidden;
  /* Fix for 1px bleed */
}

.viewer-btn {
  position: absolute;
  background: transparent;
  border: none;
  border-radius: 0;
  width: 80px;
  height: 80px;
  font-size: 6rem;
  /* Even larger for impact */
  line-height: 0;
  padding-bottom: 15px;
  /* Center adjustment */
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.2s ease;
  z-index: 25;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
  box-shadow: none;
}

.viewer-btn:hover {
  background: transparent;
  transform: scale(1.1);
  box-shadow: none;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
}

.viewer-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: auto;
  height: auto;
  background: transparent;
  box-shadow: none;
  border-radius: 0;
  color: white;
  /* White X */
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.4);
  /* Subtle dark shadow */
  font-size: 3rem;
  padding: 0;
  line-height: 0.8;
  opacity: 0.8;
  z-index: 30;
}

.viewer-close:hover {
  background: transparent;
  opacity: 1;
  box-shadow: none;
  transform: none;
  color: white;
}

/* Put close button inside/near image on smaller desktops if space is tight */
@media (max-width: 1024px) {
  .viewer-close {
    top: 10px;
    right: 10px;
  }
}

.viewer-prev {
  left: 20px;
  /* moved inside */
}

.viewer-next {
  right: 20px;
  /* moved inside */
}

/* Position arrows inside viewport on small screens */
@media (max-width: 1200px) {
  .viewer-prev {
    left: 10px;
  }

  .viewer-next {
    right: 10px;
  }
}


/* Old counter blocked removed */

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }

  to {
    opacity: 0;
  }
}

/* Wedding Car Silhouette */
/* Wedding Car Silhouette */
.car-icon {
  width: 50px;
  /* Half size */
  height: auto;
  margin-top: 24px;
  opacity: 0;
  /* Hidden initially */
  transform: scaleX(-1) translateY(10px);
  /* Flip + Subtle slide up */
  transition: opacity 0.8s ease, transform 0.8s ease;
}

/* Staggered reveal when parent text becomes visible */
.text-content.is-visible .car-icon {
  opacity: 0.8;
  /* Slightly transparent black */
  transform: scaleX(-1) translateY(0);
  transition-delay: 0.5s;
  /* Wait for text to appear */
}

/* Force left alignment for venue text content */
.text-content {
  text-align: left !important;
}